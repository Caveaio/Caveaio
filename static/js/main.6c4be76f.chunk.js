(this["webpackJsonpcavea-systems-panel"]=this["webpackJsonpcavea-systems-panel"]||[]).push([[0],{189:function(t,e,a){},345:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a(60),o=a.n(s),n=(a(189),a(115)),c=a(53),i=a(17),l=a(78),p=a(79),d=a(49),h=a(80),u=a(87),g=a(160),m=a.n(g),j=a(8);var x=function(){return Object(j.jsx)("div",{className:"h-40 flex justify-center items-center",children:Object(j.jsx)(m.a,{type:"pacman",size:"custom",active:!0})})},v=a(161),y=a.n(v),f=a(81),b=a.n(f),O=a(347),_=a(348),A=a(177),k=a(178),N=a(69),P=a(180),H=6e4,I="https://cavea-test-api-php-review-develop-3zknud.cavea.dev",w=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).platform=r.props.platform,r.type=r.props.type,r.state={data:null,loading:!0,error:null},r.getTotalImports=r.getTotalImports.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getTotalImports(),this.updateMetric=setInterval(this.getTotalImports,H)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateMetric)}},{key:"getTotalImports",value:function(){var t=this;b.a.get("".concat(I,"/api/logs/import/total"),{params:{platform:this.platform,type:this.type,from:30}}).then((function(e){var a=Object(c.a)(e.data).map((function(t){return{x:y()(t.date).format("DD-MM-YYYY"),y:t.count}}));t.setState({data:a,loading:!1})})).catch((function(){return t.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){return!this.state.data||this.state.error||this.state.loading?this.state.error?Object(j.jsx)("p",{className:"text-center text-gray-900 dark:text-gray-200",children:"An Error Occurred!"}):Object(j.jsx)(x,{}):Object(j.jsx)("div",{className:"total",children:Object(j.jsx)(O.a,{width:"100%",height:this.props.height,children:Object(j.jsxs)(_.a,{width:this.props.width,height:this.props.height,data:this.state.data,children:[Object(j.jsx)(A.a,{dataKey:"x",stroke:"rgb(0 0 0)"}),Object(j.jsx)(k.a,{dataKey:"y",stroke:"rgb(0 0 0)"}),Object(j.jsx)(N.a,{}),Object(j.jsx)(P.a,{dataKey:"y",name:"Posts",fill:this.props.fill})]})})})}}]),a}(r.Component),C=function(t){return Object(j.jsxs)("div",{className:"space-y-3",children:[Object(j.jsx)("h2",{className:"text-center font-semibold text-gray-900 dark:text-gray-200 text-2xl subpixel-antialiased",children:t.text}),Object(j.jsx)("p",{className:"text-center text-xl text-gray-900 dark:text-gray-200 subpixel-antialiased",children:t.data})]})},M=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).platform=r.props.platform,r.type=r.props.type,r.state={data:null,loading:!0,error:null},r.getAveragePerHour=r.getAveragePerHour.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getAveragePerHour(),this.updateMetric=setInterval(this.getAveragePerHour,H)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateMetric)}},{key:"getAveragePerHour",value:function(){var t=this;b.a.get("".concat(I,"/api/logs/import/average"),{params:{platform:this.platform,from:30,type:this.type,interval:3600}}).then((function(e){var a=e.data.avg;t.setState({data:a,loading:!1})})).catch((function(){return t.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){return!this.state.data||this.state.error||this.state.loading?this.state.error?Object(j.jsx)("p",{className:"text-center text-gray-900 dark:text-gray-200",children:"An Error Occurred!"}):Object(j.jsx)(x,{}):Object(j.jsx)(C,{data:this.state.data,text:this.props.text})}}]),a}(r.Component);var S=function(t){var e=Object(r.useState)(Object(c.a)(t.averages)),a=Object(i.a)(e,1)[0];return Object(j.jsx)("div",{className:"averages grid gap-y-3",children:a.map((function(e,a){return Object(j.jsx)("div",{className:e.type+"-per-hour",children:Object(j.jsx)(M,{platform:t.platform,type:e.type,text:e.text})},e.type+a)}))})};var F=function(t){var e=Object(r.useState)(Object(c.a)(t.graphs));return Object(i.a)(e,1)[0].map((function(e,a){return Object(j.jsxs)("div",{className:"metric space-y-5",children:[Object(j.jsx)("h2",{className:"text-left font-semibold text-gray-900 dark:text-gray-200 text-2xl subpixel-antialiased",children:e.header}),Object(j.jsxs)("div",{className:"grid grid-cols-2",children:[Object(j.jsx)(w,{platform:t.platform,fill:t.color,type:e.total.type,width:200,height:200}),Object(j.jsx)(S,{averages:e.averages,platform:t.platform})]})]},e.platform+e.header+a)}))};var T=function(t){return Object(j.jsxs)("div",{id:t.platform+"-metric",className:"space-y-5",children:[Object(j.jsx)("h2",{className:"capitalize text-left font-bold text-3xl text-gray-900 dark:text-gray-200 subpixel-antialiased",children:t.platform}),Object(j.jsx)("div",{className:"grid gap-y-3 items-start",children:Object(j.jsx)(F,{graphs:t.graphs,platform:t.platform,color:t.color})})]})},D=[{platform:"facebook",color:"#4267B2",graphs:[{header:"Posts",total:{type:"post_count"},averages:[{type:"process_handle",text:"Avg. Handles/h"},{type:"post_imported",text:"Avg. Posts/h"}]}]},{platform:"instagram",color:"#C13584",graphs:[{header:"Posts",total:{type:"post_count"},averages:[{type:"process_handle",text:"Avg. Handles/h"},{type:"post_imported",text:"Avg. Posts/h"}]},{header:"Stories",total:{type:"story_count"},averages:[{type:"process_story_handle",text:"Avg. Handles/h"},{type:"story_created",text:"Avg. Stories/h"}]}]},{platform:"twitch",color:"#6441a5",graphs:[{header:"Clips",total:{type:"post_count"},averages:[{type:"process_handle",text:"Avg. Handles/h"},{type:"post_imported",text:"Avg. Clips/h"}]}]},{platform:"twitter",color:"#1DA1F2",graphs:[{header:"Posts",total:{type:"post_count"},averages:[{type:"process_handle",text:"Avg. Handles/h"},{type:"post_count",text:"Avg. Posts/h"}]},{header:"Metrics",total:{type:"post_metric_count"},averages:[{type:"process_metric_handle",text:"Avg. Handles/h"},{type:"post_metric_imported",text:"Avg. Posts/h"}]}]},{platform:"youtube",color:"#FF0000",graphs:[{header:"Videos",total:{type:"post_count"},averages:[{type:"process_handle",text:"Avg. Channels/h"},{type:"post_imported",text:"Avg. Videos/h"}]}]}].map((function(t,e){return Object(r.createElement)(T,Object(n.a)(Object(n.a)({},t),{},{key:t.platform}))})),E=function(){return Object(j.jsx)("div",{className:"p-10 mx-auto",children:Object(j.jsx)("div",{className:"grid grid-cols-1 gap-6",children:D})})},Y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,353)).then((function(e){var a=e.getCLS,r=e.getFID,s=e.getFCP,o=e.getLCP,n=e.getTTFB;a(t),r(t),s(t),o(t),n(t)}))};o.a.render(Object(j.jsx)(E,{}),document.getElementById("root")),Y()}},[[345,1,2]]]);
//# sourceMappingURL=main.6c4be76f.chunk.js.map